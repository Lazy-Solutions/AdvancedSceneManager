<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Loading screens | Advanced Scene Manager </title>
    <meta name="title" content="Loading screens | Advanced Scene Manager ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../resources/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../guides/readme.html">
                <img id="logo" class="svg" src="..//resources/logo.png" alt="" style="width: 50px;height: 50px;">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="loading-screens">Loading screens</h2>

<p><br></p>
<p>There are three ways of opening loading screens:</p>
<ol>
<li>Opening a <a href="SceneCollection.html">collection</a></li>
<li><a href="../api/AdvancedSceneManager.Utility.LoadingScreenUtility.html">LoadingScreenUtility</a></li>
<li><a href="../api/AdvancedSceneManager.Core.SceneOperation.html#AdvancedSceneManager_Core_SceneOperation_WithLoadingScreen_AdvancedSceneManager_Models_Scene_">SceneOperation.WithLoadingScreen</a></li>
</ol>
<blockquote><p>A couple default loading screens are provided out-of-the-box, which can be found in &#39;AdvancedSceneManager/System/Defaults&#39;.</p>
</blockquote>
<h3 id="custom-loading-screens">Custom loading screens</h3>
<h3 id="short-version">Short version:</h3>
<p>Custom loading screens can be created by creating a script that inherits from</p>
<pre><code class="lang-csharp">AdvancedSceneManager.Callbacks.LoadingScreen
</code></pre><p>and placing it in a dedicated scene.</p>
<h3 id="longer-version">Longer version:</h3>
<p>Setting up a custom loading screen isn&#39;t difficult, but it isn&#39;t obvious either, we&#39;ll cover how to create a custom loading screen and how to use it in a <a href="SceneCollection.html">collection</a> here.</p>
<p>A loading screen in ASM is implemented as a <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.html">MonoBehaviour</a> (through LoadingScreen class) with a few <a href="https://docs.unity3d.com/Manual/Coroutines.html">IEnumerator</a> callbacks that are called when a <a href="SceneCollection.html">collection</a> is opened or closed (or manually opened through <a href="../api/AdvancedSceneManager.Utility.LoadingScreenUtility.html">LoadingScreenUtility</a>). Callbacks are waited for, and execution of ASM is stopped until a callback is done.</p>
<p>Each loading scene script is then placed in a dedicated scene, which is then automatically opened by ASM.</p>
<h3 id="code">Code</h3>
<p>Create a new script called &#39;CustomLoadingScreen&#39; and make it inherit from LoadingScreen, you may have to import &#39;AdvancedSceneManager.Callbacks&#39;.</p>
<p>Remove default methods generated by unity, and override methods required by LoadingScreen.</p>
<p>Now, you may want the loading screen to fade in, rather than just &#39;pop&#39; in. You can do this easily by adding a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/class-CanvasGroup.html">CanvasGroup</a>, and using the Fade() extension method provided by ASM.</p>
<pre><code class="lang-csharp">//using AdvancedSceneManager.Utility;

public CanvasGroup group;

public override IEnumerator OnOpen()
{
    yield return group.Fade(1, 1);
}

public override IEnumerator OnClose()
{
    yield return group.Fade(0, 1);
}
</code></pre><p>This will fade the <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/UICanvas.html">canvas</a> in when loading screen opens and fade out when loading is finished.</p>
<p>Now, for showing progress, add a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-Slider.html">Slider</a> variable and update it in Update().</p>
<pre><code class="lang-csharp">public Slider slider;

void Update()
{
    if (operation != null) //Operation may be null for the first few frames
      slider.value = operation.totalProgress;
}
</code></pre><p>This will update a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-Slider.html">slider</a> when loading progress changes, note that this will probably not be visible when opening smaller scenes since they may load too quickly, so don&#39;t worry too much about it for this tutorial, just know that it exists so that you may use it in the future.</p>
<p>Now that we have a functional implementation of a loading screen, we may begin the graphical part.</p>
<h3 id="ui">UI</h3>
<p>Create a new scene called &#39;Custom loading screen&#39;.</p>
<p>Add a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/UICanvas.html">canvas</a> and a darkish background <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-Image.html">image</a>, you may add a bright background instead if you are so inclined. Add a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-Slider.html">slider</a>, which you may style and position as you would like.</p>
<p>Next, add a <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/class-CanvasGroup.html">CanvasGroup</a> to canvas and then the &#39;CustomLoadingScreen&#39; script that we created earlier, assign canvas, group, and slider variables.</p>
<p><img src="../image/loading-screen-variables.png" alt=""></p>
<p>Setting alpha to 0 in <a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/class-CanvasGroup.html">CanvasGroup</a> may prevent potential flickering.</p>
<h3 id="actually-using-it">Actually using it</h3>
<p>Now for actually using it, we can assign it to a <a href="SceneCollection.html">collection</a> in the <a href="SceneManagerWindow.html">Scene Manager Window</a>, by pressing the <img src="../image/menu.png" alt=""> on a collection, and changing &#39;Loading screen&#39; to &#39;Override&#39; and assigning the scene to the field that appears directly underneath.</p>
<p><img src="../image/loading-screen-override.png" alt=""></p>
<p>And with that, we&#39;re done! You may now open the collection that has the loading screen assigned to it and the screen should start to fade in the ui you created, and when fade is done, the current collection should close and open the new collection, and then fade your ui out.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a href='https://assetstore.unity.com/packages/slug/174152'>Advanced Scene Manager</a> - <a href='https://assetstore.unity.com/publishers/48996'>Lazy Solutions</a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
